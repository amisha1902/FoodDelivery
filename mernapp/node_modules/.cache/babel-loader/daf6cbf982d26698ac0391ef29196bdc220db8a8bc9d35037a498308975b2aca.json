{"ast":null,"code":"var _jsxFileName = \"E:\\\\GoFood\\\\mernapp\\\\src\\\\screens\\\\Login.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport React from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n  const [credentials, setcredentials] = useState({\n    email: '',\n    password: ''\n  });\n  const navigate = useNavigate();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await fetch(\"http://localhost:5000/api/loginuser\", {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: credentials.email,\n          password: credentials.password\n        })\n      });\n      console.log('Login API Response:', response);\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      const json = await response.json();\n      console.log('JSON response:', json);\n      if (!json.success) {\n        console.log('Login unsuccessful. Response:', json);\n        alert(\"Invalid credentials\");\n      } else {\n        localStorage.setItem(\"authToken\", json.authToken);\n        navigate('/');\n      }\n    } catch (error) {\n      console.error('Network error:', error);\n    }\n  };\n  const onChange = event => {\n    setcredentials({\n      ...credentials,\n      [event.target.name]: event.target.value\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"exampleInputEmail1\",\n              className: \"form-label\",\n              children: \"Email address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              className: \"form-control\",\n              name: \"email\",\n              value: credentials.email,\n              onChange: onChange,\n              id: \"exampleInputEmail1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"emailHelp\",\n              className: \"form-text\",\n              children: \"We'll never share your email with anyone else.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"exampleInputPassword1\",\n              className: \"form-label\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"form-control\",\n              id: \"exampleInputPassword1\",\n              name: \"password\",\n              value: credentials.password,\n              onChange: onChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"m-3 btn btn-primary\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/createuser\",\n            className: \"m-3 btn btn-danger\",\n            children: \"I am a new user!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }, this)\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"b0ErrnubpnYCl55mX5FoKb5c3g8=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","React","Link","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","_s","credentials","setcredentials","email","password","navigate","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","console","log","ok","Error","status","json","success","alert","localStorage","setItem","authToken","error","onChange","event","target","name","value","children","className","onSubmit","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","type","id","to","_c","$RefreshReg$"],"sources":["E:/GoFood/mernapp/src/screens/Login.js"],"sourcesContent":["import { useState } from \"react\"\r\nimport React from 'react'\r\nimport {Link, useNavigate} from 'react-router-dom'\r\n\r\nexport default function Login() {\r\n  const [credentials, setcredentials] = useState({  email: '', password: '' })\r\n  const navigate = useNavigate()\r\n  const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const response = await fetch(\"http://localhost:5000/api/loginuser\", {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({  email: credentials.email, password: credentials.password })\r\n            });\r\n            console.log('Login API Response:', response);\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`HTTP error! Status: ${response.status}`);\r\n            }\r\n\r\n            const json = await response.json();\r\n            console.log('JSON response:', json);\r\n\r\n            if (!json.success) {\r\n              console.log('Login unsuccessful. Response:', json);\r\n              alert(\"Invalid credentials\");\r\n            }\r\n            else{\r\n                localStorage.setItem(\"authToken\", json.authToken)\r\n              navigate('/');\r\n            }\r\n            \r\n        } \r\n        \r\n           catch (error) {\r\n            console.error('Network error:', error);\r\n        }\r\n       \r\n    };\r\n \r\n    const onChange = (event) => {\r\n        setcredentials({ ...credentials, [event.target.name]: event.target.value })\r\n    }\r\n  return (\r\n    <div><>\r\n    <div className='container'>\r\n        <form onSubmit={handleSubmit}>\r\n            <div className=\"mb-3\">\r\n                <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">Email address</label>\r\n                <input type=\"email\" className=\"form-control\" name='email' value={credentials.email} onChange={onChange} id=\"exampleInputEmail1\" />\r\n                <div id=\"emailHelp\" className=\"form-text\">We'll never share your email with anyone else.</div>\r\n            </div>\r\n            <div className=\"mb-3\">\r\n                <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">Password</label>\r\n                <input type=\"password\" className=\"form-control\" id=\"exampleInputPassword1\" name='password' value={credentials.password} onChange={onChange} />\r\n            </div>\r\n            <button type=\"submit\" className=\"m-3 btn btn-primary\">Submit</button>\r\n            <Link to=\"/createuser\" className='m-3 btn btn-danger'>I am a new user!</Link>\r\n        </form>\r\n    </div>\r\n\r\n\r\n</></div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}